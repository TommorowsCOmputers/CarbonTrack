{"version":3,"names":["isString","MobileAds","validateAdRequestOptions","MobileAd","AdEventType","RewardedAd","createForAdRequest","adUnitId","requestOptions","Error","options","e","message","requestId","_rewardedRequest","addAdEventsListener","listener","_addAdEventsListener","addAdEventListener","type","LOADED","_addAdEventListener","_defineProperty"],"sources":["RewardedAd.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { isString } from '../common';\nimport { MobileAds } from '../MobileAds';\nimport { validateAdRequestOptions } from '../validateAdRequestOptions';\nimport { MobileAd } from './MobileAd';\nimport { AdEventType } from '../AdEventType';\nimport { RewardedAdEventType } from '../RewardedAdEventType';\nimport { AdEventListener } from '../types/AdEventListener';\nimport { AdEventsListener } from '../types/AdEventsListener';\nimport { RequestOptions } from '../types/RequestOptions';\n\n/**\n * A class for interacting and showing Rewarded Ads.\n *\n * An Rewarded advert can be pre-loaded and shown at a suitable point in your apps flow, such as at the end of a level\n * in a game. The content of a rewarded advert can be controlled via your Google Mobile Ads dashboard. Typically users are rewarded\n * after completing a specific advert action (e.g. watching a video or submitting an option via an interactive form).\n * Events (such as the user earning a reward or closing a rewarded advert early) are sent back for you to handle accordingly\n * within your application.\n *\n * #### Example\n *\n * First create a new Rewarded instance, passing in your Ad Unit ID from the Google Mobile Ads configuration console, and any additional\n * request options. The example below will present a test advert, and only request a non-personalized ad.\n *\n * ```js\n * import { RewardedAd, TestIds } from 'react-native-google-mobile-ads';\n *\n * const rewarded = RewardedAd.createForAdRequest(TestIds.REWARDED, {\n *     requestNonPersonalizedAdsOnly: true,\n * });\n *  ```\n *\n * Each advert needs to be loaded from Google Mobile Ads before being shown. It is recommended this is performed before the user\n * reaches the checkpoint to show the advert, so it's ready to go. Before loading the advert, we need to setup\n * event listeners to listen for updates from Google Mobile Ads, such as advert loaded or failed to load.\n *\n * Event types match the `AdEventType` or `RewardedAdEventType` interface. The potential user reward for rewarded\n * adverts are passed back to the event handler on advert load and when the user earns the reward.\n *\n * ```js\n * import { RewardedAdEventType } from 'react-native-google-mobile-ads';\n *\n * rewarded.addAdEventListener(RewardedAdEventType.LOADED. () => {\n *   rewarded.show();\n * });\n * rewarded.addAdEventListener(RewardedAdEventType.EARNED_REWARD. (reward) => {\n *   console.log('User earned reward of ', reward);\n * });\n *\n * rewarded.load();\n *  ```\n *\n * The rewarded advert will be presented to the user, and several more events can be triggered such as the user clicking the\n * advert, closing it or completing the action.\n */\nexport class RewardedAd extends MobileAd {\n  protected static _rewardedRequest = 0;\n  /**\n   * Creates a new RewardedAd instance.\n   *\n   * #### Example\n   *\n   * ```js\n   * import { RewardedAd, RewardedAdEventType, TestIds } from 'react-native-google-mobile-ads';\n   *\n   * const rewardedAd = await RewardedAd.createForAdRequest(TestIds.REWARDED, {\n   *   requestAgent: 'CoolAds',\n   * });\n   *\n   * rewarded.addAdEventListener(RewardedAdEventType.LOADED. () => {\n   *   rewarded.show();\n   * });\n   * rewarded.addAdEventListener(RewardedAdEventType.EARNED_REWARD. (reward) => {\n   *   console.log('User earned reward of ', reward);\n   * });\n   *\n   * rewardedAd.load();\n   * ```\n   *\n   * @param adUnitId The Ad Unit ID for the Rewarded Ad. You can find this on your Google Mobile Ads dashboard.\n   * @param requestOptions Optional RequestOptions used to load the ad.\n   */\n  static createForAdRequest(adUnitId: string, requestOptions?: RequestOptions) {\n    if (!isString(adUnitId)) {\n      throw new Error(\"RewardedAd.createForAdRequest(*) 'adUnitId' expected an string value.\");\n    }\n\n    let options = {};\n    try {\n      options = validateAdRequestOptions(requestOptions);\n    } catch (e) {\n      if (e instanceof Error) {\n        throw new Error(`RewardedAd.createForAdRequest(_, *) ${e.message}.`);\n      }\n    }\n\n    const requestId = RewardedAd._rewardedRequest++;\n    return new RewardedAd('rewarded', MobileAds(), requestId, adUnitId, options);\n  }\n\n  addAdEventsListener<T extends AdEventType | RewardedAdEventType>(\n    listener: AdEventsListener<T>,\n  ): () => void {\n    return this._addAdEventsListener(listener);\n  }\n\n  addAdEventListener<T extends AdEventType | RewardedAdEventType>(\n    type: T,\n    listener: AdEventListener<T>,\n  ) {\n    if (type === AdEventType.LOADED) {\n      throw new Error(\n        'RewardedAd.addAdEventListener(*) use RewardedAdEventType.LOADED instead of AdEventType.LOADED.',\n      );\n    }\n    return this._addAdEventListener(type, listener);\n  }\n}\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,QAAQ,QAAQ,WAAW;AACpC,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,wBAAwB,QAAQ,6BAA6B;AACtE,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,WAAW,QAAQ,gBAAgB;AAM5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,UAAU,SAASF,QAAQ,CAAC;EAEvC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,OAAOG,kBAAkBA,CAACC,QAAgB,EAAEC,cAA+B,EAAE;IAC3E,IAAI,CAACR,QAAQ,CAACO,QAAQ,CAAC,EAAE;MACvB,MAAM,IAAIE,KAAK,CAAC,uEAAuE,CAAC;IAC1F;IAEA,IAAIC,OAAO,GAAG,CAAC,CAAC;IAChB,IAAI;MACFA,OAAO,GAAGR,wBAAwB,CAACM,cAAc,CAAC;IACpD,CAAC,CAAC,OAAOG,CAAC,EAAE;MACV,IAAIA,CAAC,YAAYF,KAAK,EAAE;QACtB,MAAM,IAAIA,KAAK,CAAC,uCAAuCE,CAAC,CAACC,OAAO,GAAG,CAAC;MACtE;IACF;IAEA,MAAMC,SAAS,GAAGR,UAAU,CAACS,gBAAgB,EAAE;IAC/C,OAAO,IAAIT,UAAU,CAAC,UAAU,EAAEJ,SAAS,CAAC,CAAC,EAAEY,SAAS,EAAEN,QAAQ,EAAEG,OAAO,CAAC;EAC9E;EAEAK,mBAAmBA,CACjBC,QAA6B,EACjB;IACZ,OAAO,IAAI,CAACC,oBAAoB,CAACD,QAAQ,CAAC;EAC5C;EAEAE,kBAAkBA,CAChBC,IAAO,EACPH,QAA4B,EAC5B;IACA,IAAIG,IAAI,KAAKf,WAAW,CAACgB,MAAM,EAAE;MAC/B,MAAM,IAAIX,KAAK,CACb,gGACF,CAAC;IACH;IACA,OAAO,IAAI,CAACY,mBAAmB,CAACF,IAAI,EAAEH,QAAQ,CAAC;EACjD;AACF;AAACM,eAAA,CA9DYjB,UAAU,sBACe,CAAC","ignoreList":[]}