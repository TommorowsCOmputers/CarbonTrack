{"version":3,"names":["_index","require","_validate","serializeType","value","isObject","type","serializeObject","object","tryJSONParse","tryJSONStringify"],"sources":["serialize.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { tryJSONParse, tryJSONStringify } from './index';\nimport { isObject } from './validate';\n\nexport function serializeType(value: unknown) {\n  if (isObject(value)) {\n    return {\n      type: 'object',\n      value: serializeObject(value),\n    };\n  }\n\n  return {\n    type: typeof value,\n    value,\n  };\n}\n\nexport function serializeObject(object: unknown) {\n  if (!isObject(object)) {\n    return object;\n  }\n\n  // json stringify then parse it calls toString on Objects / Classes\n  // that support it i.e new Date() becomes a ISO string.\n  return tryJSONParse(tryJSONStringify(object) || '');\n}\n"],"mappings":";;;;;;;AAiBA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAlBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKO,SAASE,aAAaA,CAACC,KAAc,EAAE;EAC5C,IAAI,IAAAC,kBAAQ,EAACD,KAAK,CAAC,EAAE;IACnB,OAAO;MACLE,IAAI,EAAE,QAAQ;MACdF,KAAK,EAAEG,eAAe,CAACH,KAAK;IAC9B,CAAC;EACH;EAEA,OAAO;IACLE,IAAI,EAAE,OAAOF,KAAK;IAClBA;EACF,CAAC;AACH;AAEO,SAASG,eAAeA,CAACC,MAAe,EAAE;EAC/C,IAAI,CAAC,IAAAH,kBAAQ,EAACG,MAAM,CAAC,EAAE;IACrB,OAAOA,MAAM;EACf;;EAEA;EACA;EACA,OAAO,IAAAC,mBAAY,EAAC,IAAAC,uBAAgB,EAACF,MAAM,CAAC,IAAI,EAAE,CAAC;AACrD","ignoreList":[]}